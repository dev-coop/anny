var inputs=_.random(2,8),hidden=_.random(4,8),outputs=_.random(1,3),network=new Network(inputs,hidden,outputs);angular.module("App",["App.vis"]).controller("Controller",["$scope",function(e){e.network=network}]),angular.module("App.vis",[]),angular.module("App.vis").directive("visNetwork",function(){return{replace:!0,scope:{network:"=",nodes:"=",edges:"="},template:"<div></div>",link:function(e,i,o){i.css({width:"100%",height:"100%"});var t=[],n=[];_.each(e.network.layers,function(e,i){_.each(e.neurons,function(e){t.push({id:e.id,title:"id: "+e.id+", bias: "+e.bias,level:i,value:Math.abs(10*e.bias),group:e.bias>0?"gate":"normal"}),_.each(e.outgoing,function(e){n.push({from:e.source.id,to:e.target.id,value:Math.abs(2*e.weight),title:"weight: "+e.weight})})})});{var r=new vis.DataSet(t),a=new vis.DataSet(n),s={nodes:r,edges:a},l={nodes:{borderWidth:.1,borderWidthSelected:.1,shape:"dot",scaling:{min:3,max:10},mass:.7},groups:{normal:{color:{border:"hsl(210, 30%, 30%)",background:"hsl(210, 80%, 80%)",hover:{border:"hsl(210, 50%, 50%)",background:"hsl(210, 80%, 80%)"},highlight:{border:"hsl(210, 70%, 70%)",background:"hsl(210, 80%, 80%)"}}},gate:{color:{border:"hsl(30, 20%, 28%)",background:"hsl(30, 100%, 70%)",hover:{border:"hsl(30, 40%, 45%)",background:"hsl(30, 100%, 70%)"},highlight:{border:"hsl(30, 60%, 55%)",background:"hsl(30, 100%, 70%)"}}}},edges:{smooth:{enabled:!0,type:"dynamic",roundness:.5},scaling:{min:0,max:2},hoverWidth:1,selectionWidth:1.5},layout:{hierarchical:{direction:"LR"}},interaction:{hover:!0,tooltipDelay:200},physics:{enabled:!0,hierarchicalRepulsion:{centralGravity:0,springLength:50,springConstant:.002,nodeDistance:80,damping:.4},maxVelocity:50,minVelocity:.1,stabilization:{enabled:!0,iterations:0,updateInterval:0,onlyDynamicEdges:!1,fit:!0},timestep:.5}};new vis.Network(i[0],s,l)}}}});
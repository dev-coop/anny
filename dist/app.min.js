function AnnyFactory(){var t={};return t.init=function(){var o=_.random(2,8),n=_.random(4,8),e=_.random(1,3);t.network=new Network(o,n,e)},t.init(),t}function visNetworkOptions(){var t={};return t.nodes={borderWidth:.1,borderWidthSelected:.1,shape:"dot",scaling:{min:5,max:15},font:{color:"#777",size:12,face:"Lato"},labelHighlightBold:!0,mass:1},t.groups={normal:{color:{border:"hsl(210, 20%, 25%)",background:"hsl(210, 80%, 80%)",hover:{border:"hsl(210, 35%, 45%)",background:"hsl(210, 80%, 80%)"},highlight:{border:"hsl(210, 60%, 70%)",background:"hsl(210, 80%, 80%)"}}},gate:{color:{border:"hsl(30, 15%, 25%)",background:"hsl(30, 100%, 70%)",hover:{border:"hsl(30, 40%, 40%)",background:"hsl(30, 100%, 70%)"},highlight:{border:"hsl(30, 60%, 60%)",background:"hsl(30, 100%, 70%)"}}}},t.edges={smooth:{enabled:!1,type:"dynamic",roundness:.5},scaling:{min:.2,max:4},hoverWidth:1,selectionWidth:1.5},t.layout={hierarchical:{direction:"LR"}},t.interaction={hover:!0,tooltipDelay:150},t.physics={enabled:!0,hierarchicalRepulsion:{centralGravity:0,springLength:50,springConstant:.002,nodeDistance:80,damping:.4},maxVelocity:50,minVelocity:.1,stabilization:{enabled:!0,iterations:0,updateInterval:0,onlyDynamicEdges:!1,fit:!0},timestep:.5},t}function visNetwork(t,o){return{replace:!0,scope:{},template:'<div class="vis-network"></div>',link:function(n,e,r){n.network,n.getData=function(){var t=[],n=[];return _.each(o.network.layers,function(o,e){_.each(o.neurons,function(o){var r=o.bias.toFixed(3),a=o.id,i=o.input.toFixed(3),l=o.output.toFixed(3);t.push({id:a,title:["<b>id:</b> ",a,"<br/>","<b>in:</b> ",i,"<br/>","<b>out:</b> ",l,"<br/>","<b>bias:</b> "+r].join(""),level:e,label:l,value:Math.abs(r),group:r>0?"gate":"normal"}),_.each(o.outgoing,function(t){var o=t.weight.toFixed(3);n.push({from:t.source.id,to:t.target.id,value:Math.abs(o),title:"weight: "+o,color:{color:o>=0?"hsl(210, 20%, 25%)":"hsl(30, 15%, 25%)",hover:o>=0?"hsl(210, 35%, 45%)":"hsl(30, 40%, 40%)",highlight:o>=0?"hsl(210, 60%, 70%)":"hsl(30, 60%, 60%)"}})})})}),{nodes:new vis.DataSet(t),edges:new vis.DataSet(n)}},n.setData=function(){n.network.setData(n.getData())},n.$watch(function(){return o.network.input.neurons[0].input},function(t,o){angular.equals(t,o)||n.setData()}),n.network=new vis.Network(e[0],n.getData(),t)}}}angular.module("App",["anny","App.vis","App.toolbar"]),angular.module("anny",[]),angular.module("App.toolbar",[]),angular.module("App.vis",[]),angular.module("anny").factory("AnnyFactory",AnnyFactory),angular.module("App.vis").factory("visNetworkOptions",visNetworkOptions),angular.module("App.toolbar").directive("toolbar",["AnnyFactory","$window",function(t,o){return{replace:!0,scope:{},templateUrl:"dist/components/toolbar/toolbar.html",link:function(n,e,r){n.activateRandom=function(){for(var o=[],n=0;n<t.network.input.neurons.length;n+=1)o.push(_.random(!0));t.network.activate(o)},n.refresh=function(){o.location.reload()}}}}]),visNetwork.$inject=["visNetworkOptions","AnnyFactory"],angular.module("App.vis").directive("visNetwork",visNetwork);